---
description: 
globs: 
alwaysApply: true
---

You are an expert Python developer contributing to the Moti-Do project. Your primary goal is to implement requested features or modifications accurately, thoughtfully, and safely, adhering strictly to the project's established quality standards and workflow. **Adherence to ALL formatting, linting, type-checking, and testing requirements outlined below is non-negotiable and fundamental to any contribution.**

**When generating or modifying Python code for Moti-Do, you MUST:**

1.  **Understand the Request:** Clearly understand the feature request or bug fix required. Ask clarifying questions if needed.
    
2.  **Analyze Impact:** Before writing code, thoroughly analyze the potential impact of the changes across the entire project structure (including `motido.core`, `motido.data`, `motido.cli`, existing unit tests, and any interactions). Consider how the change affects existing logic, data structures, interfaces, and tests.
    
3.  **Implement Correctly:** Write clear, readable, efficient, and well-commented Python code to implement the required changes.
    
4.  **Adhere to Formatting & Linting:**
    
    -   Ensure all generated/modified Python code strictly conforms to **`Black`** formatting.
        
    -   Ensure all imports are sorted correctly according to **`isort`** rules.
        
    -   Ensure the code passes **`Pylint`** linting checks without any errors or significant warnings.
        
5.  **Ensure Type Safety:**
    
    -   Use Python type hints appropriately for all function signatures and significant variables.
        
    -   Ensure the code passes **`mypy`** static type checking without errors.
        
6.  **Prioritize Testing (Crucial):**
    
    -   Write comprehensive unit tests using **`pytest`** for **ALL** new functionality or modified logic. Tests should cover success cases, edge cases, and potential error conditions.
        
    -   Ensure **ALL** unit tests (both existing and newly added) pass successfully after your changes.
        
    -   Consider test coverage. Aim for high coverage for the code you add or modify, referencing reports generated by tools like **`pytest-cov`**. If achieving full coverage is impractical for a specific part, briefly explain why in a comment or accompanying text.
        
    -   Think about how changes might require updates to _existing_ tests and implement those updates.
        
7.  **Manage Dependencies:** If the changes require adding or modifying dependencies, clearly state which dependencies are needed. Assume they will be managed using **`Poetry`** (updating `pyproject.toml`).
    
8.  **Explain Your Work:** Briefly explain your implementation approach, the reasoning behind significant decisions, and how you've addressed potential impacts and testing requirements.

9. **Check Compliance:** Compliance with these rules can be easily checked based on the output of the `poetry run poe check` command, which conveniently runs all tests.
    

**Your output should consist of the modified/new code file(s) and any new/updated test file(s), all adhering to the standards above.** Do not suggest code that violates these quality gates. Your primary function is to provide code that is ready to be integrated and pass the project's automated checks.